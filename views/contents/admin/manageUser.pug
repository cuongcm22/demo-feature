doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title User Management
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css' rel='stylesheet')
  style.
    /* Custom CSS for sticky sidebar */
    html, body {
    height: 100%;
    }
    .sidebar {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    height: 100vh;
    overflow-y: auto;
    }
.container-fluid
  .row.flex-nowrap
    .col-md-3.col-sm-4.col-12.bg-dark.p-0.d-flex.flex-column.sidebar
      a.text-white.fs-4.p-3.text-decoration-none.d-flex.align-items-center.justify-content-center(href='#') Dashee
      ul.nav.nav-pills.flex-column.mb-auto
        li.nav-item
          a.nav-link.active.text-white(href='#' aria-current='page') User Management
        li.nav-item
          a.nav-link.text-white(href='#') Permissions &amp; Accounts
    main.col-md-9.col-sm-8.col-12.px-4
      .d-flex.justify-content-between.align-items-center.mt-4
        h1.h1 User Management
        .d-flex
          input#searchInput.form-control.rounded-end-0.border-secondary(type='search' placeholder='Search User')
          button#searchButton.btn.btn-primary.ms-2.rounded-end-0(type='button') Search
      .table-responsive.mt-4
        table.table.table-hover
          thead
            tr
              th(scope='col') Name
              th(scope='col') User Role
              th(scope='col') Actions
          tbody#user-table
      .d-flex.justify-content-between.align-items-center.mt-4
        p#showingInfo.text-muted Showing 0 of 0 total Users
        nav(aria-label='Page navigation')
          ul#pagination.pagination
// Edit User Modal
#editUserModal.modal.fade(tabindex='-1' aria-labelledby='editUserModalLabel' aria-hidden='true')
  .modal-dialog
    .modal-content
      .modal-header
        h5#editUserModalLabel.modal-title Edit User Information
        button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Close')
      .modal-body
        // Edit user form will be inserted here
        form#editUserForm
          .mb-3
            label.form-label(for='editUsername') Username
            input#editUsername.form-control(type='text' readonly='')
          .mb-3
            label.form-label(for='editEmail') Email
            input#editEmail.form-control(type='email')
          .mb-3
            label.form-label(for='editPhone') Phone
            input#editPhone.form-control(type='text')
          .mb-3
            label.form-label(for='editRole') Role
            input#editRole.form-control(type='text')
          button.btn.btn-primary(type='submit') Save Changes
script(src='https://code.jquery.com/jquery-3.6.0.min.js')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js')
script.
  const mockData = [
  {
  username: 'john_doe',
  email: 'john@example.com',
  phone: '123-456-7890',
  role: 'user',
  createdAt: '2024-04-22T00:00:00.000Z'
  },
  {
  username: 'jane_smith',
  email: 'jane@example.com',
  phone: '987-654-3210',
  role: 'user',
  createdAt: '2024-04-22T00:00:00.000Z'
  },
  {
  username: 'mike_jackson',
  email: 'mike@example.com',
  phone: '555-555-5555',
  role: 'user',
  createdAt: '2024-04-22T00:00:00.000Z'
  },
  {
  username: 'sara_williams',
  email: 'sara@example.com',
  phone: '111-222-3333',
  role: 'user',
  createdAt: '2024-04-22T00:00:00.000Z'
  },
  {
  username: 'user_user',
  email: 'user@example.com',
  phone: '999-888-7777',
  role: 'user',
  createdAt: '2024-04-22T00:00:00.000Z'
  },
  {
  username: 'huydapchai',
  email: 'huydapchai@gmail.com',
  phone: '0335538651',
  role: 'user',
  createdAt: '2024-04-22T07:50:44.784Z'
  },
  {
  username: 'nam',
  email: 'nam@gmail.com',
  phone: '0123456789',
  role: 'user',
  createdAt: '2024-04-22T15:01:48.160Z'
  }
  ];
  const itemsPerPage = 5;
  let currentPage = 1;
  let filteredData = mockData;
  function renderTable(page) {
  const tableBody = document.getElementById('user-table');
  tableBody.innerHTML = '';
  const startIndex = (page - 1) * itemsPerPage;
  const endIndex = startIndex + itemsPerPage;
  const paginatedData = filteredData.slice(startIndex, endIndex);
  paginatedData.forEach(user => {
  const row = document.createElement('tr');
  row.innerHTML = `
  <td>${user.username}</td>
  <td>${user.role}</td>
  <td>
  <button class="btn btn-sm btn-primary" onclick="openEditModal('${user.username}', '${user.email}', '${user.phone}', '${user.role}')">Edit</button>
  <button class="btn btn-sm btn-danger">Delete</button>
  </td>
  `;
  tableBody.appendChild(row);
  });
  document.getElementById('showingInfo').textContent = `Showing ${paginatedData.length} of ${filteredData.length} total Users`;
  }
  function renderPagination() {
  const pagination = document.getElementById('pagination');
  pagination.innerHTML = '';
  const totalPages = Math.ceil(filteredData.length / itemsPerPage);
  for (let i = 1; i <= totalPages; i++) {
  const li = document.createElement('li');
  li.className = 'page-item';
  if (i === currentPage) {
  li.classList.add('active');
  }
  const a = document.createElement('a');
  a.className = 'page-link';
  a.href = '#';
  a.textContent = i;
  a.addEventListener('click', () => {
  currentPage = i;
  renderTable(currentPage);
  renderPagination();
  });
  li.appendChild(a);
  pagination.appendChild(li);
  }
  }
  function searchFunction() {
  const input = document.getElementById('searchInput').value.toLowerCase();
  filteredData = mockData.filter(user =>
  user.username.toLowerCase().includes(input) ||
  user.role.toLowerCase().includes(input)
  );
  currentPage = 1;
  renderTable(currentPage);
  renderPagination();
  }
  function openEditModal(username, email, phone, role) {
  document.getElementById('editUsername').value = username;
  document.getElementById('editEmail').value = email;
  document.getElementById('editPhone').value = phone;
  document.getElementById('editRole').value = role;
  $('#editUserModal').modal('show');
  }
  renderTable(currentPage);
  renderPagination();
  $('#searchButton').on('click', searchFunction);
